<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Terminal with AI Chat</title>

    <!-- Tailwind CSS from CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Xterm.js -->
    <link rel="stylesheet" href="xterm.css">
    <script src="xterm.js"></script>

    <!-- Markdown parsing and syntax highlighting -->
    <script src="https://cdn.jsdelivr.net/npm/marked@5.1.1/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">

    <!-- GitHub Markdown CSS -->
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown-dark.min.css">

    <!-- Custom CSS Files -->
    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/layout.css">
    <link rel="stylesheet" href="styles/terminal.css">
    <link rel="stylesheet" href="styles/chat.css">
    <link rel="stylesheet" href="styles/markdown.css">
    <link rel="stylesheet" href="styles/animations.css">
</head>

<body class="bg-slate-900 text-white font-mono m-0 p-0 h-screen overflow-hidden">
    <!--Layout -->
    <div class="bar-container">
        <!-- Activity Bar -->
        <div class="activity-bar">
            <div class="activity-item" data-panel="left">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                    <path
                        d="M14.5 3H7.71l-.85-.85L6.51 2h-5a.5.5 0 0 0-.5.5v11a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-10a.5.5 0 0 0-.5-.5zM6.49 3h8.01v10H1.5V3h4.99z" />
                </svg>
            </div>
            <div class="activity-item active" data-panel="middle">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                    <path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3zm9 1H3v10h8V4z" />
                    <path
                        d="M5.5 7a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zM8 7.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z" />
                </svg>
            </div>
            <div class="activity-item active" data-panel="right">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                    <path
                        d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z" />
                </svg>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Left Panel (Explorer/Tools) -->
            <div id="left-panel" class="panel">
                <div class="panel-header">
                    <span>Explorer</span>
                </div>
                <div class="panel-content">
                    <div class="explorer-section">
                        <div class="explorer-title">Sessions</div>
                        <div id="session-list" class="session-list">
                            <div class="session-item">
                                <span id="terminal-session" class="text-xs">Terminal: Loading...</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Middle Panel (Terminal) -->
            <div id="middle-panel" class="panel">
                <div class="panel-header">
                    <span>Terminal</span>
                </div>
                <div class="panel-content">
                    <div id="terminal" class="terminal-content"></div>
                </div>
            </div>

            <!-- Right Panel (AI Assistant) -->
            <div id="right-panel" class="panel">
                <div class="panel-header">
                    <span>AI Assistant</span>
                    <div class="panel-actions">
                        <div id="ai-status" class="status-indicator ready">Ready</div>
                        <button id="stop-ai" class="action-button" disabled>Stop</button>
                    </div>
                </div>
                <div class="panel-content">
                    <div id="chat-container" class="chat-container">
                        <div id="chat-messages" class="chat-messages">
                            <!-- Messages will be inserted here dynamically -->
                        </div>
                        <div id="chat-input-container" class="chat-input-container">
                            <div class="input-group">
                                <textarea id="chat-input" rows="1"
                                    placeholder="Ask the AI assistant about the terminal..."
                                    class="chat-textarea"></textarea>
                                <button id="chat-send" class="send-button">Send</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Resize Handles -->
            <div class="resize-handle horizontal" data-resize="left-middle"></div>
            <div class="resize-handle horizontal" data-resize="middle-right"></div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="panels.js"></script>
    <script src="terminal.js"></script>
    <script src="chat.js"></script>

    <!-- Tailwind Configuration -->
    <script>
        // Extend Tailwind with custom colors
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'gray-750': '#374151',
                        'gray-850': '#1f2937'
                    }
                }
            }
        }
    </script>
</body>

</html>